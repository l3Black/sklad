###Описание API
API полностью оперирует данными в формате Json и на все запросы использует 
стандартную форму ответа: 
```
{
"status": "SUCCESS",
"data": {
"name": "TV",
"purchasePrice": 900,
"sellingPrice": 1400,
"id": 100000
}
}
```
В поле data находятся собственно данные как json объект или массив. Так же 
может использоваться поле message, если данных для ответа нет. Если status:error,
то поле message будет содеражать более подробную информацию об ошибке.
Данные для сохранения или обновления сущностей принимаются в формате json 
в теле запроса.
####Запросы принимаемые API:
#####Операци с товарами:
Артикул = ID;

GET /sklad/products - Возвращает список товаров по всем складам (наименование,
цены покупки и продажи, артикул(id))

GET /sklad/products/:id - Возвращает товар по id

PUT /sklad/products/:id - Обновляет товар с заданным id. В теле запроса принимает
объект товара в формате json например:
```
{
"name": "TV",
"purchasePrice": 900,
"sellingPrice": 1400,
"id": 100000 //не обязательный, но если есть должен совпадать с id в запросе
}
```

POST /sklad/products - Сохраняет новый товар в базе данных, который принимает
в теле запроса, в формате подобном тому, что описан выше, но без поля id. В ответе
возращет сообщение со строковым предствалением сохранненого
товара с заполненным полем id.

DELETE /sklad/products/:id - Удаляет товар с заданным id.

GET /sklad/name/:name - Возвращет список товаров с указанным именем.
#####Операции со складами
GET /sklad/stores/balance - Возвращает остаток товаров по всем складам 
(артикул, наименование, остаток по всем складам).

GET /sklad/stores/balance/:id - Применяет фильтр по id склада к предыдущему 
запросу.

DELETE /sklad/stores/:id - Удаляет склад с определенным id.

GET /sklad/stores - Возвращает список складов в базе данных.

POST /sklad/stores - Сохраняет новый склад в базе данных. Принимает объект \
склад в формате json в теле запроса, например:
```
{
"name": "store-1",
"products": {
    100000: 13, // артикул товара и количество
    100001: 2,
    100002: 4,
    100003: 5
    }
}
```
В ответе возращет сообщение со строковым предствалением сохранненого
склада с заполненным полем id.

GET /sklad/stores/:id - Возвращает склад с заданным id.

PUT sklad/stores/:id/:name - Изменяет имя склада с заданным id на заданное name.

PUT sklad/stores/:id/add/:prodId/:amount - Добавляет на склад с заданным id 
товары с артикулом = prodId в количестве = amount. В случае отсутствия товара 
с заданным prodId в базе данных возвращает сообщение об ошибке.

PUT sklad/stores/:id/reduce/:prodId/:amount - Убирает со склада с заданным id
товары с артиклем = prodId в количестве = amount. В случае отсутствия указанного
товара на указанном складе или недостатка товара вернет сообщение об ошибке.
#####Операции с документами
POST sklad/documents/import - Импортирует документ и применяет его к товарам
на складах. После успешного применения и отсутствия ошибок, сохраняет документ
в базе данных, без возможности дальнейшего редактирования и удаления. Документ
принимает в теле запроса в json формате, например:
```
{
"type": "MOVE", //тип документа, обязательно в верхнем регистре (MOVE - перемещение, SALE - продажа, ENTER - поступление)
"enterStoreId": 100005, // id склада поступления товара, не указывается для типа SALE
"writeOffStoreId":100006, // id склада списания товара, не указывается для типа ENTER
"products": {
  100000:12, // id товара и количество для перемещения товара
  100001:13,
  100002:14,
  100003:15}
}
```
При успешном запросе возвращает сохраненный документ с заполненным полем id. 
Так же возвращает сообщения об ошибках при неизвестном id или не достатке товара на складе.

GET sklad/documents/:id - Возвращает документ с указанным id.

GET sklad/documents - Возвращает список сохраненных документов.

GET sklad/documents/type/:type - Добавляет фильтр по типу к предыдущему запросу.
####Дополнительно
В ресурсах есть конфиг файлы для настройки приложения. По умолчанию используется
HSQLDB в памяти, инициализация схемы базы данных и заполнение ее тестовыми данными.
Есть возможность отключить это поведение сменой соответствующих флагов на false в файле db.config.properties, 
а так же изменить базу данных. Для этого нужно добавить соответствующую зависимость 
в файл pom и изменить настройки подключения к базе данных в файлах db.config.properties
и persistence.xml.






